# 202. 快乐数

[leecode原题](https://leetcode.cn/problems/happy-number/)

## 题目

编写一个算法来判断一个数 `n` 是不是快乐数。

**「快乐数」 定义为：**
  - 对于一个正整数，每一次将该数替换为它每个位置上的数字的平方和。
  - 然后重复这个过程直到这个数变为 `1`，也可能是 **无限循环** 但始终变不到 `1`。
  - 如果这个过程 **结果为 1**，那么这个数就是快乐数。
  
如果 `n` 是 快乐数 就返回 `true` ；不是，则返回 `false` 。

## 示例

### 示例 1:

```text
输入：n = 19
输出：true
解释：
1^2 + 9^2 = 82
8^2 + 2^2 = 68
6^2 + 8^2 = 100
1^2 + 0^2 + 0^2 = 1
```

### 示例 2:

```text
输入：n = 2
输出：false
```

## 提示：
- `1 <= n <= 231 - 1`

## 解题思路

### 思路

这道题，**审题很重要**，从题目信息中可以知道，如果非快乐数，那么会出现**无限循环**， 即出现过的结果还会再次出现，所以对判断元素是否存在，我们可以使用哈希表来判断。

注意: 求取一个给定的数值(`n`)的各位(个位、十位...)的值(`b`)的方法为: `for n> 0{b:=n%10;n=n/10}`
## 实现

[源码](./code/202-happy-number/main.go)
```go
func isHappy(n int) bool {
	set := make(map[int]struct{})

	for n != 1 {
		n = calc_n2(n)
		_, ok := set[n]
		if ok {
			return false
		}
		set[n] = struct{}{}
	}
	return true
}

// 计算n各个位的平方
func calc_n2(n int) int {
	sum := 0
	for n > 0 {
		sum += (n % 10) * (n % 10)
		n = n / 10
	}
	return sum
}
```
